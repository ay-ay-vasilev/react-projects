(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{49:function(e,t,a){e.exports=a(60)},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),l=a(90),o=a(99),m=a(17),s=a.n(m),u=a(27),d=a(22),f=a(12),p=a.n(f),E=a(100),h=a(101),y=a(88),g=a(89),v=a(34);function w(e){var t=e.classes,a=e.info,n=a.date,c=a.weather,i=Math.round(Math.max.apply(Math,c.map((function(e){return e.main.temp_max})))-273.15),o=Math.floor(Math.min.apply(Math,c.map((function(e){return e.main.temp_min})))-273.15),m=function(e){if(0===e.length)return null;for(var t={},a=e[0],n=1,r=0;r<e.length;r++){var c=e[r];null==t[c]?t[c]=1:t[c]++,t[c]>n&&(a=c,n=t[c])}return a}(c.map((function(e){return e.weather[0].icon})));return r.a.createElement(h.a,{style:{padding:"0"},onClick:function(){return e.selectFunc(e.id)},selected:e.selected===e.id},r.a.createElement(E.a,{className:t.weatherCard},r.a.createElement(y.a,{classes:{title:t.grayText},title:p()(n).format("ddd"),titleTypographyProps:{variant:"body2"},style:{textAlign:"center"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{alt:"404",className:t.weatherIcon,src:"http://openweathermap.org/img/wn/".concat(m.slice(0,2),"d@2x.png")})),r.a.createElement(g.a,null,r.a.createElement(l.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"body2"},i,"\xb0")),r.a.createElement(l.a,{item:!0,className:t.grayText},r.a.createElement(v.a,{variant:"body2"},o,"\xb0"))))))}var b=a(95),j=a(91),x=a(93),M=a(92),O=a(94),C=a(96),S=a(103),D=a(97);function k(e){var t=e.info.weather.map((function(e){return{timeOfDay:parseInt(e.dt_txt.slice(11,13)),temp:Math.round(e.main.feels_like-273.15)}})),a=30,n=0,c=560-n-0,i=80-a-0,l=new Date,o=new Date(l);o.setDate(o.getDate()+1);var m=function(e){return e.timeOfDay<9?new Date(o.setHours(e.timeOfDay)):new Date(l.setHours(e.timeOfDay))},s=function(e){return e.temp-(Math.min.apply(null,t.map((function(e){return e.temp})))-2)},u=Object(j.a)({range:[0,c],domain:Object(M.a)(t,m)}),d=Object(x.a)({range:[i,0],domain:[0,Object(O.a)(t,s)]}),f=r.a.createElement("svg",{width:560,height:80},r.a.createElement(b.a,{top:a,left:n,justify:"flex-end"},r.a.createElement(C.a,{data:t,x:function(e){return u(m(e))},y:function(e){return d(s(e))},strokeWidth:4,stroke:"#EC6E4C",strokeLinecap:"round",fill:"transparent",curve:D.a}),r.a.createElement(S.a,{data:t,yScale:d,x:function(e){return u(m(e))},y:function(e){return d(s(e))},strokeWidth:0,fill:"#EAA18F",curve:D.a})));return r.a.createElement("div",null,f)}function _(e){var t,a,n={day:"???",time:"???"},c=e.classes,i="???",o="???",m="???",s="?",u="",d=["9 AM","12 PM","3 PM","6 PM","9 PM","12 AM","3 AM"];if("undefined"!=typeof e.info)for(n.day=p()(e.info.date).format("dddd"),n.time=3*Math.floor(p()(e.info.date).format("H")/3),t=(n.time%12).toString()+":00 "+(n.time<12?"AM":"PM"),s=Math.round(e.info.weather.map((function(e){return e.main.temp}))[0]-273.15),m=a=e.info.weather.map((function(e){return e.weather[0].main}))[0],a=e.info.weather.map((function(e){return e.weather[0].icon}))[0],i=e.info.weather.map((function(e){return e.main.humidity}))[0],o=e.info.weather.map((function(e){return e.wind.speed}))[0],u=r.a.createElement(k,{info:e.info});d[0]!==(n.time%12).toString()+" "+(n.time<12?"AM":"PM")&&((n.time%12).toString()+" "+(n.time<12?"AM":"PM")!=="0 PM"||"12 PM"!==d[0]);)d.unshift(d.pop());else a="none";return d=d.map((function(e,t){return r.a.createElement(l.a,{key:t,xs:!0,item:!0},r.a.createElement(v.a,{key:t,variant:"body2"},e))})),r.a.createElement(l.a,{container:!0,direction:"column",spacing:2},r.a.createElement(l.a,{item:!0,container:!0,direction:"column"},r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"h5"},e.addr)),r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"body2"},n.day," ",t)),r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"body2"},m))),r.a.createElement(l.a,{item:!0,container:!0,direction:"row"},r.a.createElement(l.a,{item:!0,container:!0,justify:"flex-start",direction:"row",spacing:1,xs:6},r.a.createElement(l.a,{item:!0,style:{paddingTop:"8pt"}},r.a.createElement("img",{alt:"?",src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png"),className:c.weatherIconBig})),r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"h3",style:{fontSize:"50pt"}},s)),r.a.createElement(l.a,{item:!0,style:{paddingTop:"11pt"}},r.a.createElement(v.a,null,"\xb0C"))),r.a.createElement(l.a,{item:!0,container:!0,direction:"column",justify:"center",spacing:2,xs:6},r.a.createElement(l.a,{item:!0,container:!0,direction:"column"},r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"body2"},"Humidity: ",i,"%")),r.a.createElement(l.a,{item:!0},r.a.createElement(v.a,{variant:"body2"},"Wind: ",o," m/s"))))),r.a.createElement(l.a,{container:!0,item:!0,direction:"column",alignItems:"center"},r.a.createElement(l.a,{item:!0},u),r.a.createElement(l.a,{className:c.grayCenterText,container:!0,item:!0,direction:"row"},d)))}function A(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(""),m=Object(d.a)(o,2),f=m[0],p=m[1],E=Object(n.useState)(0),h=Object(d.a)(E,2),y=h[0],g=h[1],v=function(){var t=Object(u.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(e.position.name),t.next=3,fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.position.lat,"&lon=").concat(e.position.lon,"&appid=").concat("49ae87126dedc1be3ea175c02db618bc"));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,p(n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);var b=Object(n.useCallback)((function(e){g(e)}),[]),j=new Date,x=[];if(""!==f&&f.list.length>0)for(var M=0;M<5;M++){var O=new Date(j.getTime()+864e5*M);x.push({date:O,weather:f.list.slice(8*M,8*M+7)})}var C=x.map((function(t,a){return r.a.createElement(w,{key:a,id:a,info:t,classes:e.classes,selectFunc:b,selected:y})}));return r.a.createElement(l.a,{container:!0,justify:"space-between",direction:"column",style:{width:"100%",height:"100%"}},r.a.createElement(_,{addr:c,info:x[y],classes:e.classes}),r.a.createElement(l.a,{item:!0,container:!0,direction:"row",justify:"center"},C))}function P(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function T(e){var t=0,a=0;return void 0!==e.value&&(t=P(e.value),a=(e.velocity<0?"":"+")+P(e.velocity)),r.a.createElement(l.a,{item:!0,container:!0,xs:!0,direction:"column"},r.a.createElement(l.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(v.a,{variant:e.size},e.label)),r.a.createElement(l.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(v.a,{variant:e.size},t)),r.a.createElement(l.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(v.a,{variant:e.size,style:{color:e.color}},a)))}function z(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],i=a[1],o=function(){var t=Object(u.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.trackcorona.live/api/cities/".concat(e.area));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,i(n.data[0]);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(l.a,{container:!0,direction:"column",spacing:3},r.a.createElement(l.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(v.a,{variant:"h3"},c.location)),r.a.createElement(T,{label:"Total infected",value:c.confirmed,velocity:c.velocity_confirmed,color:"#EC6E4C",size:"h4"}),r.a.createElement(l.a,{item:!0,container:!0,direction:"row"},r.a.createElement(T,{label:"Deaths",value:c.dead,velocity:c.velocity_dead,color:"#EC6E4C",size:"h6"}),r.a.createElement(T,{label:"Current infected",value:c.confirmed-c.dead-c.recovered,velocity:c.velocity_confirmed-c.velocity_dead-c.velocity_recovered,color:c.velocity_confirmed-c.velocity_dead-c.velocity_recovered>0?"#EC6E4C":"#40A90D",size:"h6"}),r.a.createElement(T,{label:"Recoveries",value:c.recovered,velocity:c.velocity_recovered,color:"#40A90D",size:"h6"})),r.a.createElement(l.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(v.a,{variant:"h6"},"Update from: ",p()(c.updated).format("DD.MM.YYYY"))))}var I=a(105),N=a(98);function B(e){return r.a.createElement(I.a,{className:e.classes.infoCardStyle},r.a.createElement(l.a,{container:!0,direction:"column",spacing:3},r.a.createElement(l.a,{item:!0},r.a.createElement(z,{area:e.location.area})),r.a.createElement(l.a,{item:!0},r.a.createElement(N.a,null)),r.a.createElement(l.a,{item:!0},r.a.createElement(A,{classes:e.classes,position:e.location}))))}var W=Object(o.a)((function(e){return{infoCardWrapper:{maxWidth:e.spacing(80),width:"100%",alignSelf:"center"},infoCardStyle:{margin:"auto",padding:e.spacing(2)},forecastStyle:{margin:"auto",width:5*e.spacing(14),padding:e.spacing(2),spacing:e.spacing(2)},weatherCard:{width:e.spacing(14),height:e.spacing(20)},weatherIcon:{height:e.spacing(6),width:e.spacing(6),alignSelf:"center",justify:"center"},weatherIconBig:{height:e.spacing(8),width:e.spacing(8),alignSelf:"center",justify:"center"},grayCenterText:{textAlign:"center",color:"#aaaaaa"},grayText:{color:"#aaaaaa"}}}));function Y(){var e=W(),t=[{lat:62.03,lon:129.73,name:"Yakutsk",area:"Yakutia"},{lat:35.1028,lon:129.0403,name:"Busan",area:"Busan"},{lat:35.8,lon:128.55,name:"Daegu",area:"Daegu"}].map((function(t){return r.a.createElement(l.a,{item:!0,className:e.infoCardWrapper},r.a.createElement(B,{location:t,classes:e})," ")}));return r.a.createElement(l.a,{container:!0,direction:"column",spacing:2},t)}function H(){return r.a.createElement(Y,null)}a(59);i.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.6e6788fc.chunk.js.map