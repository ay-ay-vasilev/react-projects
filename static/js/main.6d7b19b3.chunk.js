(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{50:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),o=a(90),l=a(17),m=a.n(l),s=a(27),u=a(22),d=a(12),f=a.n(d),p=a(100),E=a(101),h=a(88),g=a(89),y=a(34);function v(e){var t=e.classes,a=e.info,n=a.date,i=a.weather,c=Math.round(Math.max.apply(Math,i.map((function(e){return e.main.temp_max})))-273.15),l=Math.floor(Math.min.apply(Math,i.map((function(e){return e.main.temp_min})))-273.15),m=function(e){if(0===e.length)return null;for(var t={},a=e[0],n=1,r=0;r<e.length;r++){var i=e[r];null==t[i]?t[i]=1:t[i]++,t[i]>n&&(a=i,n=t[i])}return a}(i.map((function(e){return e.weather[0].icon})));return r.a.createElement(E.a,{style:{padding:"0"},onClick:function(){return e.selectFunc(e.id)},selected:e.selected===e.id},r.a.createElement(p.a,{className:t.weatherCard},r.a.createElement(h.a,{classes:{title:t.grayText},title:f()(n).format("ddd"),titleTypographyProps:{variant:"body2"},style:{textAlign:"center"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{alt:"404",className:t.weatherIcon,src:"http://openweathermap.org/img/wn/".concat(m.slice(0,2),"d@2x.png")})),r.a.createElement(g.a,null,r.a.createElement(o.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"body2"},c,"\xb0")),r.a.createElement(o.a,{item:!0,className:t.grayText},r.a.createElement(y.a,{variant:"body2"},l,"\xb0"))))))}var w=a(95),b=a(91),M=a(93),j=a(92),x=a(94),O=a(96),S=a(103),C=a(97);function D(e){var t=e.info.weather.map((function(e){return{timeOfDay:parseInt(e.dt_txt.slice(11,13)),temp:Math.round(e.main.feels_like-273.15)}})),a=30,n=0,i=560-n-0,c=80-a-0,o=new Date,l=new Date(o);l.setDate(l.getDate()+1);var m=function(e){return e.timeOfDay<9?new Date(l.setHours(e.timeOfDay)):new Date(o.setHours(e.timeOfDay))},s=function(e){return e.temp-(Math.min.apply(null,t.map((function(e){return e.temp})))-2)},u=Object(b.a)({range:[0,i],domain:Object(j.a)(t,m)}),d=Object(M.a)({range:[c,0],domain:[0,Object(x.a)(t,s)]}),f=r.a.createElement("svg",{width:560,height:80},r.a.createElement(w.a,{top:a,left:n,justify:"flex-end"},r.a.createElement(O.a,{data:t,x:function(e){return u(m(e))},y:function(e){return d(s(e))},strokeWidth:4,stroke:"#EC6E4C",strokeLinecap:"round",fill:"transparent",curve:C.a}),r.a.createElement(S.a,{data:t,yScale:d,x:function(e){return u(m(e))},y:function(e){return d(s(e))},strokeWidth:0,fill:"#EAA18F",curve:C.a})));return r.a.createElement("div",null,f)}function k(e){var t,a,n={day:"???",time:"???"},i=e.classes,c="???",l="???",m="???",s="?",u="",d=["9 AM","12 PM","3 PM","6 PM","9 PM","12 AM","3 AM"];if("undefined"!=typeof e.info)for(n.day=f()(e.info.date).format("dddd"),n.time=3*Math.floor(f()(e.info.date).format("H")/3),t=(n.time%12).toString()+":00 "+(n.time<12?"AM":"PM"),s=Math.round(e.info.weather.map((function(e){return e.main.temp}))[0]-273.15),m=a=e.info.weather.map((function(e){return e.weather[0].main}))[0],a=e.info.weather.map((function(e){return e.weather[0].icon}))[0],c=e.info.weather.map((function(e){return e.main.humidity}))[0],l=e.info.weather.map((function(e){return e.wind.speed}))[0],u=r.a.createElement(D,{info:e.info}),console.log("HEY"),console.log((n.time%12).toString()+" "+(n.time<12?"AM":"PM")==="0 PM"&&"12 PM"===d[1]);d[0]!==(n.time%12).toString()+" "+(n.time<12?"AM":"PM")&&((n.time%12).toString()+" "+(n.time<12?"AM":"PM")!=="0 PM"||"12 PM"!==d[0]);)d.unshift(d.pop());else a="none";return d=d.map((function(e,t){return r.a.createElement(o.a,{key:t,xs:!0,item:!0},r.a.createElement(y.a,{key:t,variant:"body2"},e))})),r.a.createElement(o.a,{container:!0,direction:"column",spacing:2},r.a.createElement(o.a,{item:!0,container:!0,direction:"column"},r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"h5"},e.addr)),r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"body2"},n.day," ",t)),r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"body2"},m))),r.a.createElement(o.a,{item:!0,container:!0,direction:"row"},r.a.createElement(o.a,{item:!0,container:!0,justify:"flex-start",direction:"row",spacing:1,xs:6},r.a.createElement(o.a,{item:!0,style:{paddingTop:"8pt"}},r.a.createElement("img",{alt:"?",src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png"),className:i.weatherIconBig})),r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"h3",style:{fontSize:"50pt"}},s)),r.a.createElement(o.a,{item:!0,style:{paddingTop:"11pt"}},r.a.createElement(y.a,null,"\xb0C"))),r.a.createElement(o.a,{item:!0,container:!0,direction:"column",justify:"center",spacing:2,xs:6},r.a.createElement(o.a,{item:!0,container:!0,direction:"column"},r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"body2"},"Humidity: ",c,"%")),r.a.createElement(o.a,{item:!0},r.a.createElement(y.a,{variant:"body2"},"Wind: ",l," m/s"))))),r.a.createElement(o.a,{container:!0,item:!0,direction:"column"},r.a.createElement(o.a,{item:!0},u),r.a.createElement(o.a,{className:i.grayCenterText,container:!0,item:!0,direction:"row"},d)))}var A=a(98),P=Object(A.a)((function(e){return{forecastStyle:{margin:"auto",width:5*e.spacing(14),padding:e.spacing(2),spacing:e.spacing(2)},weatherCard:{width:e.spacing(14),height:e.spacing(20)},weatherIcon:{height:e.spacing(6),width:e.spacing(6),alignSelf:"center",justify:"center"},weatherIconBig:{height:e.spacing(8),width:e.spacing(8),alignSelf:"center",justify:"center"},grayCenterText:{textAlign:"center",color:"#aaaaaa"},grayText:{color:"#aaaaaa"}}}));function _(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),i=a[0],c=a[1],l=Object(n.useState)(""),d=Object(u.a)(l,2),f=d[0],p=d[1],E=Object(n.useState)(0),h=Object(u.a)(E,2),g=h[0],y=h[1],w=function(){var t=Object(s.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(e.position.name),t.next=3,fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.position.lat,"&lon=").concat(e.position.lon,"&appid=").concat("49ae87126dedc1be3ea175c02db618bc"));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,p(n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]);var b=Object(n.useCallback)((function(e){y(e)}),[]),M=P(),j=new Date,x=[];if(""!==f&&f.list.length>0)for(var O=0;O<5;O++){var S=new Date(j.getTime()+864e5*O);x.push({date:S,weather:f.list.slice(8*O,8*O+7)})}var C=x.map((function(e,t){return r.a.createElement(v,{key:t,id:t,info:e,classes:M,selectFunc:b,selected:g})}));return r.a.createElement(o.a,{container:!0,justify:"space-between",direction:"column",style:{width:"100%",height:"100%"}},r.a.createElement(k,{addr:i,info:x[g],classes:M}),r.a.createElement(o.a,{item:!0,container:!0,direction:"row",justify:"center"},C))}function T(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function z(e){var t=0,a=0;return void 0!==e.value&&(t=T(e.value),a=(e.velocity<0?"":"+")+T(e.velocity)),r.a.createElement(o.a,{item:!0,container:!0,xs:!0,direction:"column"},r.a.createElement(o.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(y.a,{variant:e.size},e.label)),r.a.createElement(o.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(y.a,{variant:e.size},t)),r.a.createElement(o.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(y.a,{variant:e.size,style:{color:e.color}},a)))}function Y(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),i=a[0],c=a[1],l=function(){var t=Object(s.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.trackcorona.live/api/cities/".concat(e.area));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,c(n.data[0]);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),console.log(i),r.a.createElement(o.a,{container:!0,direction:"column",spacing:3},r.a.createElement(o.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(y.a,{variant:"h3"},i.location)),r.a.createElement(z,{label:"Total infected",value:i.confirmed,velocity:i.velocity_confirmed,color:"#EC6E4C",size:"h4"}),r.a.createElement(o.a,{item:!0,container:!0,direction:"row"},r.a.createElement(z,{label:"Deaths",value:i.dead,velocity:i.velocity_dead,color:"#EC6E4C",size:"h6"}),r.a.createElement(z,{label:"Current infected",value:i.confirmed-i.dead-i.recovered,velocity:i.velocity_confirmed-i.velocity_dead-i.velocity_recovered,color:i.velocity_confirmed-i.velocity_dead-i.velocity_recovered>0?"#EC6E4C":"#40A90D",size:"h6"}),r.a.createElement(z,{label:"Recoveries",value:i.recovered,velocity:i.velocity_recovered,color:"#40A90D",size:"h6"})),r.a.createElement(o.a,{item:!0,style:{alignSelf:"center"}},r.a.createElement(y.a,{variant:"h6"},"Update from: ",f()(i.updated).format("DD.MM.YYYY"))))}var B=a(105),I=a(99),N=Object(A.a)((function(e){return{infoCardStyle:{margin:"auto",width:5*e.spacing(14),padding:e.spacing(2),spacing:e.spacing(2)}}}));function H(e){var t=N();return r.a.createElement(B.a,{className:t.infoCardStyle},r.a.createElement(o.a,{container:!0,direction:"column",spacing:3},r.a.createElement(o.a,{item:!0},r.a.createElement(Y,{area:e.location.area})),r.a.createElement(o.a,{item:!0},r.a.createElement(I.a,null)),r.a.createElement(o.a,{item:!0},r.a.createElement(_,{position:e.location}))))}function F(){var e=[{lat:62.03,lon:129.73,name:"Yakutsk",area:"Yakutia"},{lat:35.1028,lon:129.0403,name:"Busan",area:"Busan"},{lat:35.8,lon:128.55,name:"Daegu",area:"Daegu"}].map((function(e){return r.a.createElement(H,{location:e})}));return r.a.createElement(o.a,{container:!0,spacing:4},e)}function W(){return r.a.createElement(F,null)}a(60);c.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.6d7b19b3.chunk.js.map